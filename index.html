<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·¸í•´ ìš°ë¦¬ë“¤ì˜ ë¸”ë£¨ìŠ¤</title>
    <style>
        body {
            cursor: url('cursor.ico'), auto;
            cursor: url('cursor.png'), auto scale(0.1); /* ì´ë¯¸ì§€ í¬ê¸°ë¥¼ 50%ë¡œ ì¶•ì†Œ */
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            background-image: url('bg.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        #book {
            width: 90vw; /* í™”ë©´ ë„ˆë¹„ì˜ 90% */
            height: calc(90vw * 550 / 400); /* 400:550 ë¹„ìœ¨ ìœ ì§€ */
            max-width: 400px; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            max-height: 550px; /* ìµœëŒ€ ë†’ì´ ì œí•œ */
            position: relative;
            perspective: 1500px;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            margin: 0 auto;  /* ì±…ì„ ê°€ìš´ë° ì •ë ¬ */
            display: none; /* ì±… ìˆ¨ê¹€ */
            opacity: 0; /* ì´ˆê¸° íˆ¬ëª…ë„ 0ìœ¼ë¡œ ì„¤ì • */
            transform: scale(0.5); /* ì´ˆê¸° í¬ê¸° 0.5ë¡œ ì„¤ì • */
            transition: opacity 1s ease-in-out, transform 1s ease-in-out; /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì¶”ê°€ */
        }

        @media (max-width: 400px) {
            #book {
                width: 100vw; /* ì‘ì€ í™”ë©´ì—ì„œëŠ” í™”ë©´ ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
                height: calc(100vw * 550 / 400);
            }
        }

        #book.show {
            display: block;
            opacity: 1; /* íˆ¬ëª…ë„ 1ë¡œ ë³€ê²½ */
            transform: scale(1); /* í¬ê¸° 1ë¡œ ë³€ê²½ */
        }

        #book:hover {
            transform: translateY(-5px);
        }

        #heart {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px; /* ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
            height: 100px; /* ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
            background-image: url('heart.png'); /* í•˜íŠ¸ ì´ë¯¸ì§€ ì„¤ì • */
            background-size: contain;
            background-repeat: no-repeat;
            cursor: pointer;
        }

        .cover {
            width: 100%;
            height: 100%;
            position: absolute;
            background: linear-gradient(15deg, #5D2906, #8B4513);
            border-radius: 5px 15px 15px 5px;
            box-shadow: 5px 10px 30px rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            color: #FFD700;
            font-size: 24px;
            font-weight: bold;
            transform-origin: left;
            transition: transform 1.5s ease-in-out;
            backface-visibility: visible;
            z-index: 10;
            border: 1px solid #3A2702;
            text-align: center;
            padding: 0;
        }

        .cover h1 {
            text-align: center;
            font-size: 100%;
            padding: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            margin: 0;
            line-height: 1.3;
            font-family: 'Nanum Myeongjo', serif;
            word-break: keep-all;
        }

        .cover::after {
            content: '';
            position: absolute;
            top: 15px;
            right: 15px;
            bottom: 15px;
            left: 15px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 3px 13px 13px 3px;
            pointer-events: none;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #FFF8E7;
            border-radius: 5px 15px 15px 5px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            box-sizing: border-box;
            display: none;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
            border-left: 1px solid #D2B48C;
            /* justify-content: center; ì‚­ì œ */
        }

        .page.active {
            display: flex;
            animation: pageAppear 0.8s ease-out;
        }

        @keyframes pageAppear {
            0% { opacity: 0; transform: translateX(30px); }
            100% { opacity: 1; transform: translateX(0); }
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 12px;
            width: 100%;
            max-width: 400px;
            margin-bottom: 25px;
        }

        .photo {
            width: 100%;
            height: 0;
            padding-bottom: 100%;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            border: 3px solid #E0D0B1;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .photo:hover {
            transform: scale(1.08);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            border-color: #D2B48C;
        }

        .photo::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }

        .photo.selected::after {
            background-color: rgba(46, 204, 113, 0.4);
            box-shadow: inset 0 0 0 3px #2ECC71;
        }

        .photo.wrong::after {
            background-color: rgba(231, 76, 60, 0.4);
            box-shadow: inset 0 0 0 3px #E74C3C;
        }

        .message {
            text-align: center;
            margin-bottom: 25px;
            font-size: 18px;
            color: #5D2906;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-family: 'Nanum Gothic', sans-serif;
        }

        .error-message {
            color: #A52A2A;
            font-weight: bold;
            margin-bottom: 20px;
            display: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-size: 16px;
        }

        button {
            padding: 12px 25px;
            background: linear-gradient(to bottom, #8B4513, #A0522D);
            color: #FFD700;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-weight: bold;
            font-family: 'Nanum Gothic', sans-serif;
            letter-spacing: 1px;
        }

        button:hover {
            background: linear-gradient(to bottom, #A0522D, #8B4513);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .letter {
            width: 100%;
            height: 100%;
            padding: 30px;
            box-sizing: border-box;
            background-color: #FFF8E7;
            border: 1px solid #D2B48C;
            font-family: 'Nanum Pen Script', cursive;
            font-size: 24px;
            line-height: 1.8;
            white-space: pre-line;
            overflow-y: auto;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
            border-radius: 5px;
        }

        .letter-content {
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .signature {
            text-align: right;
            margin-top: 40px;
            font-weight: bold;
            font-size: 28px;
        }

        @keyframes flip {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(-180deg); }
        }

        .flipping {
            animation: flip 1.5s forwards;
        }

        .book-spine {
            position: absolute;
            left: -20px;
            top: 0;
            height: 100%;
            width: 20px;
            background: linear-gradient(to right, #3A2702, #5D2906);
            border-radius: 5px 0 0 5px;
            box-shadow: inset -5px 0 15px rgba(0,0,0,0.4);
            z-index: 5;
        }

        .page-turn-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.7);
            z-index: 20;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
            transform-origin: left;
            transform: rotateY(0deg);
        }

        .page-turn-effect.turning {
            animation: pageTurn 1.2s forwards;
        }

        @keyframes pageTurn {
            0% {
                transform: rotateY(0deg);
                opacity: 1;
            }
            100% {
                transform: rotateY(-180deg);
                opacity: 0;
            }
        }
        .quiz-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            margin-bottom: 25px;
        }

        .question {
            text-align: center;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            width: 80%;
            max-width: 300px;
            margin-top: 10px;
        }

        #options3 {
            display: flex;
            flex-direction: column; /* ì„¸ë¡œë¡œ ë°°ì¹˜ */
            align-items: stretch; /* ë²„íŠ¼ ë„ˆë¹„ë¥¼ ë¶€ëª¨ì— ë§ì¶¤ */
            gap: 10px; /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
            width: 80%; /* ë„ˆë¹„ ì¡°ì • (ì„ íƒ ì‚¬í•­) */
            max-width: 300px; /* ìµœëŒ€ ë„ˆë¹„ ìœ ì§€ (ì„ íƒ ì‚¬í•­) */
            margin: 10px auto; /* ê°€ìš´ë° ì •ë ¬ */
        }

        #options3 button {
            /* í•„ìš”í•˜ë‹¤ë©´ ë²„íŠ¼ ìì²´ì˜ ìŠ¤íƒ€ì¼ ì¡°ì • */
        }

        .options button {
            padding: 10px 15px;
            border: 1px solid #D2B48C;
            border-radius: 5px;
            background-color: #FFF8E7;
            cursor: pointer;
            font-size: 16px;
            font-family: 'Nanum Gothic', sans-serif;
            transition: background-color 0.3s;
        }

        .options button:hover {
            background-color: #E0D0B1;
        }
        .answer-feedback {
            margin-left: 10px;
            font-size: 14px;
            font-weight: bold;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Nanum+Myeongjo:wght@700&family=Nanum+Gothic:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="heart"></div>
    <div id="book">
        <div class="book-spine"></div>
        <div class="cover" id="book-cover">
            <h1>ê·¸í•´ ìš°ë¦¬ë“¤ì˜ ë¸”ë£¨ìŠ¤</h1>
        </div>
        <div class="page active" id="quiz-page">
            <div class="message">ê°„ë‹¨í•œ í€´ì¦ˆë¥¼ í’€ì–´ë³´ì„¸ìš”!</div>
            <div class="error-message" id="quiz-error-message">í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</div>
            <div class="error-message" id="quiz-success-message" style="color: green; font-weight: bold; display: none; margin-bottom: 20px; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); font-size: 16px;">ì •ë‹µì…ë‹ˆë‹¤!</div>
            <div class="quiz-container">
                <div class="question">
                    <p id="question1">ìš°ë¦¬ê°€ ì²˜ìŒ ë§Œë‚œ ê³³ì€ ì–´ë””ì¼ê¹Œìš”?</p>
                    <span id="answer-feedback-1" class="answer-feedback"></span>
                    <div class="options" id="options1">
                        <button class="option" data-question="1" data-answer="A">A. ìˆ˜í•™ì˜ ì™•ë„</button>
                        <button class="option" data-question="1" data-answer="B">B. ìˆ˜í•™ì˜ ì •ì„</button>
                        <button class="option" data-question="1" data-answer="C">C. ìˆ˜í•™ì˜ ì•„ì¹¨</button>
                        <button class="option" data-question="1" data-answer="D">D. ìˆ˜í•™ì˜ ë‹¬ì¸</button>
                    </div>
                </div>
                <div class="question">
                    <p id="question2">ìš°ë¦¬ê°€ ì²˜ìŒìœ¼ë¡œ í•¨ê»˜ ê°„ ì—¬í–‰ì§€ëŠ” ì–´ë””ì¼ê¹Œìš”?</p>
                    <span id="answer-feedback-2" class="answer-feedback"></span>
                    <div class="options" id="options2">
                        <button class="option" data-question="2" data-answer="A">A. ì œì£¼ë„</button>
                        <button class="option" data-question="2" data-answer="B">B. ë¶€ì‚°</button>
                        <button class="option" data-question="2" data-answer="C">C. ê°•ë¦‰</button>
                        <button class="option" data-question="2" data-answer="D">D. ì„œìš¸</button>
                    </div>
                </div>
                <div class="question">
                    <p id="question3">ìš°ë¦¬ì˜ ì²« ë°ì´íŠ¸ ë‚ ì§œëŠ” ë©°ì¹ ì¼ê¹Œìš”?</p>
                    <span id="answer-feedback-3" class="answer-feedback"></span>
                    <div class="options" id="options3">
                        <button class="option" data-question="3" data-answer="A">A. 5ì›” 9ì¼</button>
                        <button class="option" data-question="3" data-answer="B">B. 5ì›” 10ì¼</button>
                        <button class="option" data-question="3" data-answer="C">C. 5ì›” 11ì¼</button>
                        <button class="option" data-question="3" data-answer="D">D. 5ì›” 12ì¼</button>
                    </div>
                </div>
            </div>
            <button id="quiz-retry-btn">ë‹¤ì‹œí•˜ê¸°</button>
            <button id="next-page-btn" style="display: none;">ë‹¤ìŒ í˜ì´ì§€</button>
        </div>
        <div class="page" id="photo-game-page">
            <div class="message">ìš°ë¦¬ì˜ ì¶”ì–µì„ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë§ì¶°ë³´ì„¸ìš”!</div>
            <div class="error-message" id="photo-error-message">ì™œ ëª»ë§ì¶° ë°”ë³´ì•¼ ã… ã… </div>
            <div class="photo-grid" id="photo-grid"></div>
            <button id="retry-btn" style="display: none;">ë‹¤ì‹œí•˜ê¸°</button>
        </div>
        <div class="page" id="page2">
            <div class="letter">
                <div class="letter-content" id="letter-content">
                    ì‚¬ë‘í•˜ëŠ” ì—¬ìì¹œêµ¬ì—ê²Œ,

                    ì•Œê²Œëœì§€ 10ë…„, ì—¬ìì¹œêµ¬ë¡œ ì§€ë‚¸ì§€ 1ë…„ì´ë„¤. 1ì£¼ë…„ ì¶•í•˜í•´

                    ì‚¬ë‘í‘œí˜„ ë§ì´ ëª»í•´ì¤˜ì„œ ë¯¸ì•ˆí•´.
                    ì‚¬ë‘í•˜ëŠ”ê±´ ê·¸ëŒ€ë¡ ë° ë³´ê³ ìˆìœ¼ë©´ ê·€ì—¬ì›Œì„œ ì‚¼ì¼œë²„ë¦¬ê³ ì‹¶ì€ë°
                    ì˜¤íˆë ¤ ë„ˆê°€ ë¶ˆì•ˆí•´í•˜ê³  ê³„ì† ì‚¬ë‘ì„ í™•ì¸í•˜ê²Œ ë§Œë“¤ì–´ì„œ ë¯¸ì•ˆí•´.
                    ë‹¹ì‹œ í˜¼ì ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ê³  ì˜ˆë¯¼í•´ì§€ê³  ê·¸ëŸ¬ë©´ì„œ ë§ˆìŒì— ì—¬ìœ ê°€ ì¢€ ì—†ì—ˆë‚˜ë´.
                    í•­ìƒ ë§í•˜ê³  ë‚˜ì„œì•¼ 'ì•„ ì´ê²Œ ì•„ë‹Œë°..' ê·¸ëŸ¬ë ¤ë˜ê²Œ ì•„ë‹Œë° ì˜ ì•ˆë˜ë‹ˆê¹Œ ì§œì¦ë§Œ ë‚˜ë”ë¼
                    ì´ ì‹œê¸°ë§Œ ì§€ë‚˜ë©´ ê´œì°®ì•„ì§€ê² ì§€ í•˜ê³  ìƒê°í•˜ë©´ì„œ ë³´ëƒˆì–´.

                    ë„Œ ì˜ì§€í•´ë„ ëœë‹¤ê³  í•˜ëŠ”ë° ë‚´ëˆˆì—” ë„ˆê°€ ë„ˆë¬´ ì• ê¸°ë¼ ì˜ì§€í•˜ê³  ê·¸ëŸ¬ê¸°ê°€ ì¢€ ê·¸ë˜
                    ìœ ì¹˜ì›ìƒí•œí…Œ ì˜ì§€í•˜ê³ ì‹¶ì€ ëŠ™ì€ì´ê°€ ì–´ë”¨ë‚˜
                    ë°˜ ì¥ë‚œì´ê³  ì§€ê¸ˆë„ ë§ì´ ì˜ì§€í•˜ê³  ìˆì–´.
                    ì§€ê¸ˆìœ¼ë¡œë„ ì¶©ë¶„í•´ ë‚´ê°€ ì¢‹ë‹¤ê³  í•´ì£¼ëŠ” ë„ˆí•œí…Œ ê³ ë§ˆì›Œ

                    ë²Œì¨ í•™ê¸° ì ˆë°˜ì´ ì§€ë‚¬ê³  ê³§ ë°©í•™ì¸ë°
                    ì„ ë¬¼ë„ ì‚¬ì£¼ê³  ì‹¶ê³ , ì—¬í–‰ë„ ê°€ê³  ì‹¶ê³ , ë§›ìˆëŠ”ê²ƒë„ ë§ì´ ë¨¹ê³  ì‹¶ì–´.

                    í¸ì§€ëŠ” ì´ê±¸ë¡œ ë–¼ìš¸ê±° ì•„ë‹ˆê³  ì†í¸ì§€ë„ ì¤„ê±°ë‹ˆ ê±±ì • ã„´ã„´

                    í•­ìƒ ì„œíˆ¬ë¥´ê³  ë‹µë‹µí•œ ë‚˜ë‘ ì‚¬ê²¨ì¤˜ì„œ ê³ ë§™ë‹¤
                    ì•ìœ¼ë¡œë„ í•¨ê»˜ ë§ì€ ì¶”ì–µ ë§Œë“¤ì.

                    ë§ì´ ì‚¬ë‘í•´.
                    2025ë…„ 5ì›” 9ì¼
                </div>
                <div class="signature">ë‚¨ìì¹œêµ¬ê°€</div>
            </div>
        </div>
        <div class="page-turn-effect" id="page-turn-effect"></div>
    </div>


    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const book = document.getElementById('book');
            const bookCover = document.getElementById('book-cover');
            const quizPage = document.getElementById('quiz-page');
            const quizErrorMessage = document.getElementById('quiz-error-message');
            const quizSuccessMessage = document.getElementById('quiz-success-message');
            const quizRetryBtn = document.getElementById('quiz-retry-btn');
            const nextPageBtn = document.getElementById('next-page-btn');
            const photoGamePage = document.getElementById('photo-game-page');
            const photoGrid = document.getElementById('photo-grid');
            const photoErrorMessage = document.getElementById('photo-error-message');
            const retryBtn = document.getElementById('retry-btn');
            const bgMusic = document.getElementById('bg-music');
            const letterContent = document.getElementById('letter-content');
            const pageTurnEffect = document.getElementById('page-turn-effect');
            const heart = document.getElementById('heart');
            const question1Element = document.getElementById('question1');
            const options1Element = document.getElementById('options1');
            const question2Element = document.getElementById('question2');
            const options2Element = document.getElementById('options2');
            const question3Element = document.getElementById('question3');
            const options3Element = document.getElementById('options3');
            const answerFeedback1 = document.getElementById('answer-feedback-1');
            const answerFeedback2 = document.getElementById('answer-feedback-2');
            const answerFeedback3 = document.getElementById('answer-feedback-3');
            const page1 = document.getElementById('photo-game-page');
            const page2 = document.getElementById('page2');

            // ìŒì•… ìë™ ì¬ìƒ ë° ì±… í‘œì‹œ (í•˜íŠ¸ í´ë¦­ ì‹œ)
            heart.addEventListener('click', function() {
                bgMusic.play().catch(e => console.log("Audio play failed:", e));
                book.style.display = 'block';
                heart.style.display = 'none';
                book.classList.add('show');
            });


            // ì‚¬ì§„ ë°ì´í„°
            const photos = [
                { id: 1, url: 'photo1.jpg', order: 1 },
                { id: 2, url: 'photo2.jpg', order: 2 },
                { id: 3, url: 'photo3.jpg', order: 3 },
                { id: 4, url: 'photo4.jpg', order: 4 },
                { id: 5, url: 'photo5.jpg', order: 5 },
                { id: 6, url: 'photo6.jpg', order: 6 },
                { id: 7, url: 'photo7.jpg', order: 7 },
                { id: 8, url: 'photo8.jpg', order: 8 },
                { id: 9, url: 'photo9.jpg', order: 9 }
            ];

            let shuffledPhotos = [];
            let currentOrder = 1;
            let selectedPhotos = [];

            // ì±… í‘œì§€ í´ë¦­ ì´ë²¤íŠ¸
            bookCover.addEventListener('click', function() {
                bookCover.classList.add('flipping');
                setTimeout(() => {
                    bookCover.style.display = 'none';
                    pageTurnEffect.style.opacity = '1';
                    setTimeout(() => {
                        pageTurnEffect.style.opacity = '0';
                        quizPage.classList.add('active');
                        loadQuiz();
                    }, 500);
                }, 1500);
            });
            // í€´ì¦ˆ ë°ì´í„°
            const quizQuestions = [
                {
                    question1: "ìš°ë¦¬ê°€ ì²˜ìŒ ë§Œë‚œ ê³³ì€ ì–´ë””ì¼ê¹Œìš”?",
                    options1: ["ìˆ˜í•™ì˜ ì™•ë„", "ìˆ˜í•™ì˜ ì •ì„", "ìˆ˜í•™ì˜ ì•„ì¹¨", "ìˆ˜í•™ì˜ ë‹¬ì¸"],
                    answer1: "D"
                },
                {
                    question2: "ìš°ë¦¬ê°€ ê°™ì´ ê°€ë³¸ì ì´ ì—†ëŠ” ê³³ì€?",
                    options2: ["ë¶€ì‚°", "ì œì£¼ë„", "íš¡ì„±", "ë² íŠ¸ë‚¨"],
                    answer2: "A"
                },
                {
                    question3: "ë‹¤ìŒ ì¤‘ ë°˜ê°€ìš´ ìƒí™©ì€?",
                    options3: ["ë¨¸ë¦¬ì— ë­ ìˆë‹¤ë©´ì„œ ì€ê·¼ìŠ¬ì© ë¨¸ë¦¬ ì“°ë‹¤ë“¬ëŠ” ì°¨ì€ìš°", 
                    "ìš´ë™í•˜ê³  ì™”ë‹¤ê³  ì˜·ë²—ìœ¼ë©° ë³µê·¼ í•œë²ˆ ë§Œì ¸ë³´ë¼ëŠ” ì†¡ê°•", 
                    "'ë‚¨ìœ ì°¬'", 
                    "ë³´ê³ ì‹¶ì—ˆë‹¤ê³  ëˆˆê°€ê°€ ì´‰ì´‰í•´ì§€ë©° ë°”ë¼ë³´ëŠ” ë³€ìš°ì„"],
                    answer3: "B"
                }
            ];

            let currentQuiz = 0;
            let answers = {}; // ì‚¬ìš©ìì˜ ë‹µì„ ì €ì¥í•  ê°ì²´

            // í€´ì¦ˆ ë¡œë“œ í•¨ìˆ˜
            function loadQuiz() {
                // ì²« ë²ˆì§¸ ì§ˆë¬¸ ë¡œë“œ
                const firstQuizData = quizQuestions[0];
                question1Element.textContent = firstQuizData.question1;
                const options1 = firstQuizData.options1;
                options1Element.querySelectorAll('button').forEach((button, index) => {
                    button.textContent = `${String.fromCharCode(65 + index)}. ${options1[index]}`;
                    button.dataset.question = '1';
                    button.dataset.answer = String.fromCharCode(65 + index);
                    button.dataset.correctAnswer = firstQuizData.answer1;
                });
                answerFeedback1.textContent = '';
                answerFeedback1.className = 'answer-feedback';

                // ë‘ ë²ˆì§¸ ì§ˆë¬¸ ë¡œë“œ
                const secondQuizData = quizQuestions[1];
                question2Element.textContent = secondQuizData.question2;
                const options2 = secondQuizData.options2;
                options2Element.querySelectorAll('button').forEach((button, index) => {
                    button.textContent = `${String.fromCharCode(65 + index)}. ${options2[index]}`;
                    button.dataset.question = '2';
                    button.dataset.answer = String.fromCharCode(65 + index);
                    button.dataset.correctAnswer = secondQuizData.answer2;
                });
                answerFeedback2.textContent = '';
                answerFeedback2.className = 'answer-feedback';

                // ì„¸ ë²ˆì§¸ ì§ˆë¬¸ ë¡œë“œ
                const thirdQuizData = quizQuestions[2];
                question3Element.textContent = thirdQuizData.question3;
                const options3 = thirdQuizData.options3;
                options3Element.querySelectorAll('button').forEach((button, index) => {
                    button.textContent = `${String.fromCharCode(65 + index)}. ${options3[index]}`;
                    button.dataset.question = '3';
                    button.dataset.answer = String.fromCharCode(65 + index);
                    button.dataset.correctAnswer = thirdQuizData.answer3;
                });
                answerFeedback3.textContent = '';
                answerFeedback3.className = 'answer-feedback';

                quizErrorMessage.style.display = 'none';
                quizSuccessMessage.style.display = 'none';
                quizRetryBtn.style.display = 'none';
                nextPageBtn.style.display = 'none';
                answers = {};
            }

            // í€´ì¦ˆ ì •ë‹µ í™•ì¸
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    const questionNumber = this.dataset.question;
                    const selectedAnswer = this.dataset.answer;
                    const correctAnswer = this.dataset.correctAnswer;
                    answers[questionNumber] = selectedAnswer;

                    let feedbackElement;
                    if (questionNumber === '1') {
                        feedbackElement = answerFeedback1;
                    } else if (questionNumber === '2') {
                        feedbackElement = answerFeedback2;
                    } else if (questionNumber === '3') {
                        feedbackElement = answerFeedback3;
                    }

                    if (selectedAnswer === correctAnswer) {
                        feedbackElement.textContent = 'ğŸ˜ğŸ˜ğŸ˜';
                        feedbackElement.className = 'answer-feedback correct';
                    } else {
                        feedbackElement.textContent = 'ğŸ˜¡ğŸ˜¡ğŸ˜¡';
                        feedbackElement.className = 'answer-feedback incorrect';
                    }

                    // ëª¨ë“  ì§ˆë¬¸ì— ë‹µí–ˆëŠ”ì§€ í™•ì¸
                    if (answers['1'] && answers['2'] && answers['3']) {
                        if (
                            answers['1'] === quizQuestions[0].answer1 &&
                            answers['2'] === quizQuestions[1].answer2 &&
                            answers['3'] === quizQuestions[2].answer3
                        ) {
                            // ëª¨ë‘ ì •ë‹µì¸ ê²½ìš° ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                            quizSuccessMessage.style.display = 'block';
                            nextPageBtn.style.display = 'block';
                            quizErrorMessage.style.display = 'none';
                            quizRetryBtn.style.display = 'none';
                        } else {
                            // í•˜ë‚˜ë¼ë„ í‹€ë¦° ê²½ìš° ì—ëŸ¬ ë©”ì‹œì§€ì™€ ë‹¤ì‹œí•˜ê¸° ë²„íŠ¼ í‘œì‹œ
                            quizErrorMessage.style.display = 'block';
                            quizSuccessMessage.style.display = 'none';
                            quizRetryBtn.style.display = 'block';
                            nextPageBtn.style.display = 'none';
                        }
                    }
                });
            });

            // í€´ì¦ˆ ë‹¤ì‹œí•˜ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            quizRetryBtn.addEventListener('click', function() {
                loadQuiz();
            });

            // ë‹¤ìŒ í˜ì´ì§€ (ì‚¬ì§„ ê²Œì„) ë²„íŠ¼ ì´ë²¤íŠ¸
            nextPageBtn.addEventListener('click', function() {
                quizPage.classList.remove('active');
                pageTurnEffect.classList.add('turning');
                setTimeout(() => {
                    pageTurnEffect.style.opacity = '1';
                    setTimeout(() => {
                        pageTurnEffect.style.opacity = '0';
                        pageTurnEffect.classList.remove('turning');
                        photoGamePage.classList.add('active');
                        initPhotoGame();
                    }, 1200);
                }, 1000);
            });

            // ì‚¬ì§„ ê²Œì„ ì´ˆê¸°í™”
            function initPhotoGame() {
                currentOrder = 1;
                selectedPhotos = [];
                shuffledPhotos = [...photos].sort(() => Math.random() - 0.5);
                renderPhotos();
                photoErrorMessage.style.display = 'none';
                retryBtn.style.display = 'none';
            }

            // ì‚¬ì§„ ë Œë”ë§
            function renderPhotos() {
                photoGrid.innerHTML = '';
                shuffledPhotos.forEach(photo => {
                    const photoElement = document.createElement('div');
                    photoElement.className = 'photo';
                    photoElement.style.backgroundImage = `url(${photo.url})`;
                    photoElement.dataset.id = photo.id;
                    photoElement.dataset.order = photo.order;
                    photoElement.addEventListener('click', () => {
                        selectPhoto(photoElement);
                    });
                    photoGrid.appendChild(photoElement);
                });
            }

            // ì‚¬ì§„ ì„ íƒ
            function selectPhoto(photoElement) {
                const order = parseInt(photoElement.dataset.order);

                if (order === currentOrder) {
                    photoElement.classList.add('selected');
                    selectedPhotos.push(photoElement);
                    currentOrder++;

                    if (currentOrder > photos.length) {
                        pageTurnEffect.classList.add('turning');
                        setTimeout(() => {
                            pageTurnEffect.style.opacity = '1';
                            setTimeout(() => {
                                photoGamePage.classList.remove('active');
                                pageTurnEffect.style.opacity = '0';
                                pageTurnEffect.classList.remove('turning');
                                page2.classList.add('active');
                            }, 1200);
                        }, 1000);
                    }
                } else {
                    photoElement.classList.add('wrong');
                    photoErrorMessage.style.display = 'block';
                    retryBtn.style.display = 'block';
                }
                if (currentOrder > photos.length) {
                    pageTurnEffect.classList.add('turning');

                    setTimeout(() => {
                        photoGamePage.classList.remove('active');
                        pageTurnEffect.classList.remove('turning');
                        page2.classList.add('active');
                    }, 800);
                }
            }

            // ë‹¤ì‹œí•˜ê¸° ë²„íŠ¼
            retryBtn.addEventListener('click', function() {
                initPhotoGame();
            });

            // ì´ˆê¸° í€´ì¦ˆ ë¡œë“œ (í•˜íŠ¸ í´ë¦­ ì „ì— ë³´ì´ë„ë¡ ìˆ˜ì •)
            loadQuiz();
            quizPage.classList.remove('active');
        });
    </script>
</body>
</html>
